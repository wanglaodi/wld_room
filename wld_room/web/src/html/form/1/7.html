<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>提示可输入字数</title>
     <script src="http://bmpic.matewish.cn/meibo-test/js/jquery-1.9.1.min.js"></script>
</head>
<body>
        <div class="demo1">
            <form class="form-horizontal user-input" id="form" role="form">
                <div class="form-group">
                    <div class="col-sm-10">
                        <textarea class="from-control" name="" id="msg" maxlength="140" placeholder="备注" cols="47" rows="10" onkeyup="deal()"></textarea>
                        <div class="pt10">
                            <p>还可以输入<i class="red">140</i>个字</p>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10">
                        <button id="btn" type="button" class="btn btn-primary btn-block">清除</button>
                    </div>
                </div>
            </form>
        </div>

        <script type="text/javascript">
            function deal(){
                var  shuru = $("#msg").val().length;

                if(shuru == 140){
                    $(".pt10 p").text("超出字数限制，超出的部分将被截断");
                    var num = $("#msg").val().substr(0,140);
                   $("#msg").val(num);
                }
                else{
                    $(".red").text(140-shuru);
                }
            }

            $("#btn").click(function(){
                    $("#msg").val("");
                    $(".red").text(140);
            });
                
        </script>
</body>
</html>